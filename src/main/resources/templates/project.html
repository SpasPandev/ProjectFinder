<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/commons::head">
</head>


<body>

    <!-- Navigation -->
    <header th:replace="fragments/commons::navigation">
    </header>
    <!-- End Navigation -->

    <div class="container rounded bg-white mt-5 mb-5 p-3">
        <div th:object="${projectId}" class="row justify-content-center">
            <div class="col-md-8">
                <h3 th:text="*{title}" class="text-center m-4">Title of the project</h3>
                <h6 th:text="*{author.name}" class="text-end">Company name</h6>
                <hr>
                <p th:text="*{project_description}" class="mt-5">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus saepe, doloremque
                    explicabo nemo asperiores at corporis voluptatum sint blanditiis maiores dolores molestias illo
                    voluptate quae rem nulla nobis sequi.Lorem ipsum dolor sit amet consectetur adipisicing elit.
                    Consequuntur voluptatibus saepe, doloremque explicabo nemo asperiores at corporis voluptatum sint
                    blanditiis maiores dolores molestias illo voluptate quae rem nulla nobis sequi.Lorem ipsum dolor sit
                    amet consectetur adipisicing elit. Consequuntur voluptatibus saepe, doloremque explicabo nemo
                    asperiores at corporis voluptatum sint blanditiis maiores dolores molestias illo voluptate quae rem
                    nulla nobis sequi.Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus
                    saepe, doloremque explicabo nemo asperiores at corporis voluptatum sint blanditiis maiores dolores
                    molestias illo voluptate quae rem nulla nobis sequi.Lorem ipsum dolor sit amet consectetur
                    adipisicing elit. Consequuntur voluptatibus saepe, doloremque explicabo nemo asperiores at corporis
                    voluptatum sint blanditiis maiores dolores molestias illo voluptate quae rem nulla nobis sequi.Lorem
                    ipsum dolor sit amet consectetur adipisicing elit. Consequuntur voluptatibus saepe, doloremque
                    explicabo nemo asperiores at corporis voluptatum sint blanditiis maiores dolores molestias illo
                    voluptate quae rem nulla nobis sequi.Lorem ipsum dolor sit amet consectetur adipisicing elit.
                    Consequuntur voluptatibus saepe, doloremque explicabo nemo asperiores at corporis voluptatum sint
                    blanditiis maiores dolores molestias illo voluptate quae rem nulla nobis sequi.Lorem ipsum dolor sit
                    amet consectetur adipisicing elit. Consequuntur voluptatibus saepe, doloremque explicabo nemo
                    asperiores at corporis voluptatum sint blanditiis maiores dolores molestias illo voluptate quae rem
                    nulla nobis sequi.
                </p>
                <hr>
                <h5>Tehnologies:</h5>
                <div th:each="t : ${projectId.technologies}" class="row">
                    <span th:text="${t}" class="col">Java</span>
<!--                    <span class="col">C#</span>-->
<!--                    <span class="col">Python</span>-->
                </div>
            </div>
        </div>

        <div class="d-grid d-md-flex justify-content-between mt-4 ">

            <!-- Participants Button trigger modal -->
            <button type="button" class="btn btn-primary btn-outline-dark btn-lg m-4" data-bs-toggle="modal"
                data-bs-target="#participants">
                All participants
            </button>

            <!-- Participants Modal -->
            <div class="modal fade" id="participants" tabindex="-1" aria-labelledby="allParticipants"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="allParticipants">All participants</h4>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>

                        <div class="modal-body">
                            <th:block th:if="${projectId.getParticipants().isEmpty()}">
                                <td colspan="2"> No Participants</td>
                            </th:block>
                            <a
                                    th:each="participant : ${projectId.getParticipants()}"
                                    th:href="@{/profile/{id}(id = *{participant.id})}"
                                    class="list-group-item list-group-item-action d-flex gap-3
                                     py-3 hover" aria-current="true">
                                <img src="/images/student.png" alt="profileIcon" width="45" height="45"
                                    class="rounded-circle">
                                <div class="d-flex gap-2 w-100 justify-content-between">
                                    <div>
                                        <p th:text="*{participant.name}" class="mb-0 fw-bold">FirstName</p>
                                    </div>
                                </div>
                            </a>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <th:block th:if="${isParticipant}">
                <form th:method="post"
                      th:object="${projectId}"
                      th:action="@{/project/{id}(id = *{id})}">
                    <button type="submit" class="btn btn-primary btn-outline-dark btn-lg m-4">Participate</button>
                </form>
            </th:block>


            <!-- Submit Button trigger modal -->
            <button type="button" class="btn btn-primary btn-outline-dark btn-lg m-4" data-bs-toggle="modal"
                data-bs-target="#submitProject">
                Submit
            </button>

            <!-- Submit Modal -->
            <div class="modal fade" id="submitProject" tabindex="-1" aria-labelledby="submit" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="submit">Submit project</h4>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>

                        <div class="modal-body">
                            <label>Enter link for your github repository</label>
                            <input type="text" class="form-control" required autofocus>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Submit project</button>
                        </div>
                    </div>
                </div>
            </div>


            <a href="/uploaded" class="btn btn-primary btn-outline-dark btn-lg m-4">Uploaded</a>

        </div>
    </div>


</body>

</html>